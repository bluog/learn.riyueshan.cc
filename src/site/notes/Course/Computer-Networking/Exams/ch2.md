---
{"dg-publish":true,"dg-path":"Computer-NetworkingExams/ch2.md","permalink":"/computer-networking-exams/ch2/","updated":"2025-11-16T18:34:57.600+08:00"}
---

# 计算机网络 Chapter 2：物理层与数据通信基础

## 0. 核心概览 (Overview)

本章解决的问题是：**0 和 1 是如何变成电信号/光信号在物理介质上传输的？** 核心考点集中在：**传输速率的极限计算**（奈奎斯特/香农公式）、**复用技术**（特别是 CDMA 的计算）以及**交换方式的性能比较**。

## 一、 数据通信理论基础 (Theoretical Basis) —— 计算题重灾区

### 1. 两个核心定理：决定“网速”的极限

作业题目（如 Q12, Q14, Q15）主要考察如何选择公式。

#### A. 奈奎斯特定理 (Nyquist Theorem) —— 无噪声环境

> 本质为纳奎斯特采样定理，频率只需要为原来的一半即可恢复数据，对应给定带宽，原有能采样数据为2倍；等级对应编码，即信息量的大小

- **适用场景**：理想低通信道，没有噪声干扰，限制只来自于带宽。

- **公式**：

    $$C_{max} = 2 \times B \times \log_2 V$$

  - $C_{max}$：最大数据传输速率 (bps)
  - $B$：信道带宽 (Hz)
  - $V$：信号离散等级 (Levels)，即每个码元能携带多少种状态。
    - 若信号是“二进制” (Binary)，则 $V=2$。
    - 若信号是“4级” (4-level)，则 $V=4$。

> **作业 Q12 解析思路**：
>
> - 题目：电视信道宽 6MHz，4级信号，无噪声。
> - 求解：$C = 2 \times 6\text{MHz} \times \log_2 4 = 2 \times 6 \times 2 = 24 \text{Mbps}$。

#### B. 香农定理 (Shannon Theorem) —— 有噪声环境

- **适用场景**：实际信道，存在热噪声。

- **公式**：

    $$C_{max} = B \times \log_2 (1 + S/N)$$

  - $S/N$：**信噪比 (Signal-to-Noise Ratio)**，这是一个数值，**不是 dB**。

- **关于分贝 (dB) 的换算（必须背诵）**： 题目通常给的是 dB 值，必须先换算成数值才能代入公式。

    $$\text{SNR}_{dB} = 10 \log_{10}(S/N)$$

  - $10 \text{dB} \to S/N = 10$
  - $20 \text{dB} \to S/N = 100$
  - $30 \text{dB} \to S/N = 1000$
  - $40 \text{dB} \to S/N = 10000$

> **作业 Q14/15 解析思路**：
>
> - 题目：3kHz 信道，信噪比 20dB，二进制信号。
> - **陷阱**：这里有两个限制，一个是香农限制（噪声），一个是奈奎斯特限制（信号等级）。**最终速率取两者中的较小值**。
>
> 1. **香农限制**：$20 \text{dB} \to S/N=100$。 $C = 3000 \times \log_2(1 + 100) \approx 3000 \times 6.65 \approx 19.9 \text{kbps}$。
> 2. **奈奎斯特限制**（题目说了是“二进制信号”）： $C = 2 \times 3000 \times \log_2 2 = 6 \text{kbps}$。
>
> - **结论**：虽然噪声允许传更快，但你的信号调制方式（二进制）限制了你只能跑 6kbps。

### 2. 傅里叶分析 (Fourier Analysis)

- **基本原理**：任何周期信号（如连续发送的二进制数据流 101010...）都可以分解为一系列不同频率的正弦波之和（傅里叶级数）。
  - 公式形式：$f(t) = c + \sum a_n \sin(2\pi n f t) + \sum b_n \cos(2\pi n f t)$。
  - **基波 (Fundamental)**：频率最低的分量，决定了信号的周期。
  - **谐波 (Harmonics)**：频率是基波整数倍的高频分量（3次谐波、5次谐波...）。
- **方波的困境**：
  - 理想的数字信号是**方波**（电压在 0 和 1 之间瞬间跳变，边缘垂直）。
  - 要合成完美的垂直边缘，数学上需要叠加**无限多**的高频谐波。
- **带宽限制导致的失真 (Distortion)**：
  - **物理现实**：所有传输介质（网线、光纤）本质上都有电容和电感效应，表现为**低通滤波器**。它们限制了能通过的最高频率，这个频率范围就是**带宽 (Bandwidth)**。
  - **过程**：当方波通过信道时，高频谐波被滤除（进不去或衰减没了），只剩下低频分量通过。
  - **结果**：
        1. **边缘变缓**：丢失了高频分量，方波的直角变成了圆角，看起来像波浪线。
        2. **码间串扰 (ISI, Inter-Symbol Interference)**：如果发送速率太快（脉冲太窄），变“圆”的波形会拖尾并延伸到下一个比特的时间隙里。接收端在采样时，前一个比特的余波会干扰当前比特的判决，导致无法分清是 0 还是 1。
- **结论**：**信道带宽** $B$ **直接限制了码元传输速率（Baud Rate）。** 为了避免严重的 ISI，奈奎斯特证明了在理想低通信道下，最高码元速率是 $2B$ Baud。

## 二、 传输介质 (Transmission Media)

这部分主要通过选择题考察特性。

### 1. 双绞线 (Twisted Pair)

这是局域网最常用的布线方式。

- **原理**：将两根绝缘铜导线按一定密度绞合在一起。
  - **作用**：抵消相邻导线的电磁干扰 (EMI) 和减少串扰 (Crosstalk)。**绞合得越密 (咬合度越高)，抗干扰能力越强，支持的频率越高。**
- **屏蔽分类**：
  - **UTP (Unshielded)**：非屏蔽双绞线，最常用，便宜，但抗干扰稍弱。
  - **STP (Shielded)**：屏蔽双绞线，每对线外都有金属屏蔽层，抗干扰强，贵且硬。

#### A. 常用等级标准 (Categories)

EIA/TIA 定义了不同“类” (Category) 的标准，数字越大，性能越强。

| 标准 (Category)     | 带宽 (Frequency) | 典型速率         | 特点与应用                                            |
| ------------------- | ---------------- | ---------------- | ----------------------------------------------------- |
| **Cat 5 (五类线)**  | 100 MHz          | 100 Mbps         | 曾用于百兆以太网，现已逐步淘汰。                      |
| **Cat 5e (超五类)** | 100 MHz          | 1 Gbps           | **目前最通用的家用网线**，改进了抗串扰能力。          |
| **Cat 6 (六类线)**  | 250 MHz          | 1 Gbps / 10 Gbps | 线中间常有**十字塑料骨架**隔离4对线。短距离支持万兆。 |
| **Cat 6a (超六类)** | 500 MHz          | 10 Gbps          | 完整支持 100米 万兆传输，通常有屏蔽层。               |
| **Cat 7 (七类线)**  | 600 MHz          | 10 Gbps+         | 必须是屏蔽线 (STP)，接口可能非标准 RJ-45。            |
| **Cat 8 (八类线)**  | 2000 MHz         | 25/40 Gbps       | 数据中心短距离连接。                                  |

#### B. 物理层标准命名法 (Naming Convention)

你会经常看到类似 `100Base-TX` 或 `10GBase-T` 的名字，这是 IEEE 802.3 的标准命名格式：

**格式：`[速率][信号方式][介质类型]`**

1. **速率 (Speed)**：
    - `10` = 10 Mbps
    - `100` = 100 Mbps (Fast Ethernet)
    - `1000` = 1 Gbps (Gigabit Ethernet)
    - `10G` = 10 Gbps
2. **信号方式 (Signal)**：
    - `Base` = **基带 (Baseband)** 传输（数字信号直接传，以太网都用这个）。
    - `Broad` = 宽带 (Broadband) 传输（模拟信号调制，如有线电视，较少见）。
3. **介质类型 (Medium)**：
    - **-T (Twisted Pair)**：双绞线。
        - `10Base-T`：普通双绞线。
        - `100Base-TX`：使用2对高质量双绞线（最常见的百兆标准）。
        - `1000Base-T`：使用4对双绞线。
        - `10GBase-T`：万兆双绞线。
    - **-F / -S / -L (Fiber)**：光纤。
        - `-SX` (Short wavelenth)：短波长，多模光纤（短距离）。
        - `-LX` (Long wavelength)：长波长，单模光纤（长距离）。
        - `100Base-FX`：百兆光纤。

> **考点示例**： 问：`10GBase-T` 是什么意思？ 答：**10G** bps 速率，**基带**传输，使用**双绞线**介质。

### 2. 其他介质简述

- **同轴电缆 (Coaxial)**：抗干扰强，但体积大。早期以太网使用（如 `10Base-2`），现主要用于有线电视网络 (HFC)。
- **光纤 (Fiber Optics)**：
  - **多模 (Multi-mode)**：芯径粗，光全反射传输，光源为 LED，适合近距离 (如机房内)。
  - **单模 (Single-mode)**：芯径细，光直线传播，光源为激光，适合远距离 (几十公里)。
- **无线 (Wireless)**：微波、红外、卫星。

## 三、 多路复用技术 (Multiplexing) —— 重点：CDMA

### 1. 基础复用

- **FDM (频分)**：不同用户占用不同频率 (广播电台)。
- **TDM (时分)**：不同用户轮流占用时间片。
- **WDM (波分)**：光的频分复用。

### 2. CDMA (码分多址) —— 计算题核心 (作业 Q27, Q49)

**原理**：每个站拥有一个唯一的**码片序列 (Chip Sequence)**，所有站同频率同时发送。

- **关键规则**：

    1. **正交性**：任何两个不同站点的码片向量 $S$ 和 $T$ 的内积（点积）为 0。即 $S \cdot T = 0$。
    2. **自我归一化**：$S \cdot S = 1$ (或等于码片长度 $m$，取决于题目定义，通常计算时最后除以 $m$)。
    3. **发送逻辑**：
        - 发比特 `1`：发送码片序列 $+S$。
        - 发比特 `0`：发送码片序列 $-S$。
        - 不发送：发送 $0$。

- **计算步骤 (解题万能公式)**： 假设接收到的叠加信号为 $R$，总共有 $m$ 位码片。要判断站点 A 是否发送了数据：

    $$\text{Result} = \frac{1}{m} (R \cdot S_A)$$

  - 若结果 $= +1$ $\to$ A 发送了 `1`。
  - 若结果 $= -1$ $\to$ A 发送了 `0`。
  - 若结果 $= 0$ $\to$ A 没说话。

> **作业 Q27 实战**：
>
> - 收到信号 $R = (-1, +1, -3, -1, -1, -3, +1, +1)$。假设 A 的码片是 $S_A = (-1, -1, -1, +1, +1, -1, +1, +1)$。
> - 计算 $R \cdot S_A = (-1)(-1) + (1)(-1) + (-3)(-1) + ...$
> - 将所有位对应相乘后求和，最后除以 8。如果不为 0，就是发了数据。

## 四、 交换技术 (Switching) —— 性能对比

### 1. 电路交换 (Circuit Switching)

- **特点**：打电话模式。建立连接 $\to$ 通话 $\to$ 释放连接。
- **优点**：资源预留，延迟稳定，无拥塞。
- **缺点**：建立时间长，利用率低（静默时浪费）。
- **总延迟** = 建立时间 $s$ + 发送时间 $x/b$ + 传播延迟 $k \times d$。

### 2. 分组交换 (Packet Switching)

- **特点**：发快递模式。数据切块，存储转发 (Store-and-Forward)。
- **优点**：利用率高，抗毁性强。
- **缺点**：排队延迟不确定，头部开销 (Overhead)。
- **数据报 (Datagram)**：每个包独立路由 (IP)。
- **虚电路 (Virtual Circuit)**：逻辑上的连接，结合了电路交换的顺序性和分组交换的灵活性。

### 3. 性能对比计算 (作业 Q63, Q64)

- **场景**：通过 $N$ 个路由器的路径传输数据。
- **电路交换**：需要 $t_{setup}$ 时间建立，之后数据像流水一样通过。总时间 $T = t_{setup} + \text{Size}/\text{Bandwidth} + \text{Delay}$。
- **分组交换**：
  - **存储转发时延**：每个路由器必须接收完整个**包 (Packet)** 才能发往下一站。
  - 如果把大文件切成小包，可以实现**流水线并发**，总时间可能更短。
  - 但是，包越小，包头 (Header) 占比越大，**有效带宽**越低。
  - **作业 Q63 (VSAT)**：考察卫星链路（高延迟）下，大文件传输，电路交换建立时间长，但传输连续；分组交换虽然灵活但有头部开销。需列出方程求解。
